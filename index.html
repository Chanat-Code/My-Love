<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ü‡∏ô‡∏Å‡∏±‡∏ô‡πÑ‡∏´‡∏° üíò</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;700&family=Fredoka:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#fff1f5; /* pink-50 */
      --bg2:#ffe4ea; /* softer */
      --primary:#ff4d6d;
      --primary-dark:#e63b5b;
      --text:#3d2a2a;
      --shadow: 0 10px 30px rgba(255,77,109,.25);
      --radius: 20px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; min-height:100svh;
      display:grid; place-items:center;
      font-family:'Fredoka', 'Noto Sans Thai', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 1200px at 80% 10%, #ffeef6 0%, transparent 60%),
                  radial-gradient(1000px 800px at 20% 90%, #fff8e6 0%, transparent 60%),
                  linear-gradient(135deg, var(--bg2), var(--bg1));
      overflow:hidden; /* keep floating items inside */
    }

    /* respects reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{animation:none !important; transition:none !important}
    }

    /* Floating hearts background */
    .hearts-bg{position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index:0}
    .heart{position:absolute; font-size:16px; opacity:.7; animation:floatUp linear forwards;}
    @keyframes floatUp{ 
      0%{ transform:translateY(0) scale(.9) rotate(0deg); opacity:.2; }
      100%{ transform:translateY(-120vh) scale(1.3) rotate(360deg); opacity:0; }
    }

    .card{
      position:relative; z-index:2;
      width:min(760px, 94vw);
      background:#fff; border-radius:clamp(16px, 3vw, var(--radius));
      box-shadow: var(--shadow);
      padding: clamp(18px, 3.5vw, 32px);
      text-align:center;
    }

    h1{
      margin:8px 0 12px; line-height:1.15;
      font-size:clamp(28px, 6vw, 44px);
      color:var(--primary);
    }
    p.tagline{margin:0 0 18px;color:#6b4e4e}

    /* Mascot */
    .mascot{ width:min(240px, 48vw); margin: 8px auto 14px; filter: drop-shadow(0 8px 16px rgba(255,77,109,.25));}

    .sticker-wrap{display:flex; gap:12px; justify-content:center; align-items:flex-end; flex-wrap:wrap; margin: 6px auto 18px;}
    .sticker{ width:110px; aspect-ratio:1; position:relative; border-radius:22px; padding:8px; background:linear-gradient(180deg, #fff, #fff7fa); box-shadow:0 6px 18px rgba(0,0,0,.08);} 
    .sticker small{position:absolute; bottom:6px; left:0; right:0; text-align:center; font-size:12px; color:#996666}

    .button-row{ display:flex; gap:16px; justify-content:center; align-items:center; flex-wrap:wrap; margin-top:14px; position:relative; z-index:3 }

    button{ border:0; border-radius:20px; padding:14px 26px; font-size:18px; cursor:pointer; transition: transform .15s ease, box-shadow .15s ease, background .2s ease; box-shadow: 0 8px 18px rgba(0,0,0,.12);}    
    #yesButton{ background:linear-gradient(180deg, var(--primary), var(--primary-dark)); color:#fff; font-weight:700; }
    #yesButton:hover{ transform: translateY(-1px) scale(1.03); box-shadow:0 12px 30px rgba(255,77,109,.35); }
    #yesButton:active{ transform: translateY(0) scale(.98); }

    /* The evasive button */
    #noButton{ background:#f3f3f3; color:#333; position:fixed; min-width:78px; text-align:center; z-index:4 }

    /* Burst emojis */
    .burst{ position:fixed; font-size:20px; pointer-events:none; animation:burstAnim 900ms ease forwards; z-index:6 }
    @keyframes burstAnim{ 0%{opacity:1; transform:scale(1) translate(0,0)} 100%{opacity:0; transform:scale(2) translate(var(--x), var(--y))} }

    /* Confetti canvas */
    canvas#confetti{ position:fixed; inset:0; pointer-events:none; z-index:5 }

    /* Cute corner stickers */
    .corner{ position:fixed; z-index:1; opacity:.9; pointer-events:none;}
    .corner.tl{ left:12px; top:12px; transform:rotate(-12deg)}
    .corner.br{ right:10px; bottom:10px; transform:rotate(10deg)}

    @media (max-width:420px){ .sticker{ width:90px } button{ width:calc(50% - 10px); } }
  </style>
</head>
<body>
  <div class="corner tl">üíå</div>
  <div class="corner br">üß∏</div>

  <div class="hearts-bg" id="heartsBg" aria-hidden="true"></div>
  <canvas id="confetti" aria-hidden="true"></canvas>

  <main class="card" role="main">
    <h1>‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ü‡∏ô‡∏Å‡∏±‡∏ô üòä</h1>
    <p class="tagline">‡∏ñ‡πâ‡∏≤‡∏ï‡∏≠‡∏ö <strong style="color:var(--primary)">‡πÉ‡∏ä‡πà</strong> ‡∏à‡∏∞‡∏°‡∏µ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏ï‡∏ï‡∏¥‡πÄ‡∏ï‡πá‡∏°‡∏ü‡πâ‡∏≤‡πÄ‡∏•‡∏¢ üíñ</p>

    <!-- Kawaii mascot -->
    <svg class="mascot" viewBox="0 0 300 260" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <defs>
        <linearGradient id="g" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#fff"/>
          <stop offset="100%" stop-color="#ffeaf0"/>
        </linearGradient>
      </defs>
      <g>
        <ellipse cx="150" cy="140" rx="100" ry="90" fill="url(#g)" stroke="#ffadc0" stroke-width="3"/>
        <path d="M90 70 C70 40, 50 40, 60 80" fill="#fff5f8" stroke="#ffadc0" stroke-width="3"/>
        <path d="M210 70 C230 40, 250 40, 240 80" fill="#fff5f8" stroke="#ffadc0" stroke-width="3"/>
        <ellipse cx="110" cy="145" rx="16" ry="10" fill="#ffc0cb" opacity=".6"/>
        <ellipse cx="190" cy="145" rx="16" ry="10" fill="#ffc0cb" opacity=".6"/>
        <circle cx="115" cy="130" r="8" fill="#3b2f2f"/>
        <circle cx="185" cy="130" r="8" fill="#3b2f2f"/>
        <circle cx="112" cy="126" r="2" fill="#fff"/>
        <circle cx="182" cy="126" r="2" fill="#fff"/>
        <path d="M135 155 Q150 165 165 155" fill="none" stroke="#3b2f2f" stroke-width="3" stroke-linecap="round"/>
        <path d="M150 110 m -6 -2 a 6 6 0 0 1 12 0 a 6 6 0 0 1 -12 0 z" fill="#ff6b86" opacity=".9"/>
      </g>
    </svg>

    <div class="sticker-wrap" aria-hidden="true">
      <div class="sticker">üßÅ<small>‡∏´‡∏ß‡∏≤‡∏ô‡∏ô‡∏¥‡∏î‡πÜ</small></div>
      <div class="sticker">üåà<small>‡∏™‡∏µ‡∏£‡∏∏‡πâ‡∏á</small></div>
      <div class="sticker">üêª<small>‡∏Å‡∏≠‡∏î‡∏î‡∏î</small></div>
      <div class="sticker">üíê<small>‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ</small></div>
    </div>

    <div class="button-row">
      <button id="yesButton" aria-label="‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πà">‡πÉ‡∏ä‡πà üíò</button>
      <button id="noButton" aria-label="‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà">‡πÑ‡∏°‡πà üòù</button>
    </div>
  </main>

  <!-- cute click sound (short, safe to autoplay only on user gesture) -->
  <audio id="yaySound" preload="auto">
    <source src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQAA" type="audio/mpeg">
  </audio>

  <script>
    const yesButton = document.getElementById('yesButton');
    const noButton  = document.getElementById('noButton');
    const heartsBg  = document.getElementById('heartsBg');
    const confettiCanvas = document.getElementById('confetti');
    const ctx = confettiCanvas.getContext('2d');
    const yay = document.getElementById('yaySound');

    // ---------- Utils ----------
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    function clamp(n,min,max){ return Math.max(min, Math.min(n, max)); }
    function resize(){ confettiCanvas.width = innerWidth; confettiCanvas.height = innerHeight; }
    addEventListener('resize', resize, {passive:true}); resize();

    // ---------- Floating hearts background ----------
    const hearts = ['üíñ','üíò','üíó','üíì','üíù','üíû'];
    let heartTimer = null;
    function spawnHeart(){
      const h = document.createElement('div');
      h.className = 'heart';
      h.textContent = hearts[Math.floor(Math.random()*hearts.length)];
      const startLeft = Math.random()*100; // vw
      const duration = 8 + Math.random()*5; // seconds
      const delay = Math.random()*2;
      h.style.left = startLeft + 'vw';
      h.style.bottom = '-4vh';
      h.style.animationDuration = duration+'s';
      h.style.animationDelay = delay+'s';
      h.style.fontSize = (12 + Math.random()*28) + 'px';
      heartsBg.appendChild(h);
      setTimeout(()=> h.remove(), (duration+2)*1000);
    }
    function startHearts(){ if(prefersReduced) return; heartTimer = setInterval(spawnHeart, 800); for(let i=0;i<10;i++) spawnHeart(); }
    function stopHearts(){ clearInterval(heartTimer); }
    document.addEventListener('visibilitychange', ()=>{ document.hidden?stopHearts():startHearts(); });
    startHearts();

    // ---------- Evasive "No" button (bounded) ----------
    function placeNoButtonInitial(){
      // put near Yes button initially
      const rect = yesButton.getBoundingClientRect();
      noButton.style.position = 'fixed';
      const pad = 50;
      const x = clamp(rect.right + 20, pad, innerWidth - noButton.offsetWidth - pad);
      const y = clamp(rect.top, pad, innerHeight - noButton.offsetHeight - pad);
      noButton.style.left = x + 'px';
      noButton.style.top  = y + 'px';
    }
    window.addEventListener('load', placeNoButtonInitial);

    function moveNoButton(){
      const pad = 50;
      const maxX = innerWidth  - noButton.offsetWidth  - pad;
      const maxY = innerHeight - noButton.offsetHeight - pad;
      const newX = clamp(pad + Math.random()*maxX, pad, maxX);
      const newY = clamp(pad + Math.random()*maxY, pad, maxY);

      const dx = newX - parseFloat(noButton.style.left || 0);
      const dy = newY - parseFloat(noButton.style.top  || 0);

      if(!prefersReduced){
        noButton.animate([
          { transform:`translate(0,0)` },
          { transform:`translate(${dx}px,${dy}px) scale(1.15) rotate(8deg)` },
          { transform:`translate(${dx}px,${dy}px) scale(1) rotate(0)` }
        ], { duration: 450, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards' });
      }
      noButton.style.left = newX + 'px';
      noButton.style.top  = newY + 'px';
    }
    noButton.addEventListener('mouseover', moveNoButton);
    noButton.addEventListener('focus', moveNoButton); // keyboard accessibility
    noButton.addEventListener('touchstart', (e)=>{ e.preventDefault(); moveNoButton(); }, {passive:false});

    // ---------- Burst emojis on Yes ----------
    function burst(x,y){
      if(prefersReduced) return;
      const emojis=['üíñ','‚ú®','üíï','üå∏','üéâ'];
      for(let i=0;i<8;i++){
        const span=document.createElement('span');
        span.className='burst';
        span.textContent=emojis[Math.floor(Math.random()*emojis.length)];
        span.style.left=x+'px';
        span.style.top=y+'px';
        span.style.setProperty('--x', (Math.random()*240-120)+'px');
        span.style.setProperty('--y', (Math.random()*240-120)+'px');
        document.body.appendChild(span);
        setTimeout(()=>span.remove(), 1000);
      }
    }

    // ---------- Confetti celebration (finite) ----------
    const colors = ['#ff4d6d','#ffd166','#b8f2e6','#cdb4db','#95d5b2'];
    function celebrate(durationMs=1800){
      if(prefersReduced) return;
      const pieces=[]; const N=150;
      for(let i=0;i<N;i++) pieces.push({ x: Math.random()*confettiCanvas.width, y: -20 - Math.random()*innerHeight*0.3, r: 4+Math.random()*6, s: 2+Math.random()*3, a: Math.random()*Math.PI*2, c: colors[i%colors.length] });
      const start = performance.now();
      function draw(t){
        const elapsed=t-start; ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
        pieces.forEach(p=>{ p.y += p.s; p.x += Math.sin(p.a+=0.05)*1.5; ctx.save(); ctx.translate(p.x, p.y); ctx.rotate(p.a); ctx.fillStyle = p.c; ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r); ctx.restore(); });
        if(elapsed < durationMs) requestAnimationFrame(draw);
      }
      requestAnimationFrame(draw);
    }

    // ---------- Yes click handlers ----------
    yesButton.addEventListener('click', (e)=>{
      burst(e.clientX, e.clientY);
      celebrate();
      // try play sound (will only play after user gesture, safe if blocked)
      yay.currentTime = 0; yay.play().catch(()=>{});
      setTimeout(()=> alert('‡πÄ‡∏¢‡πâ! ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ü‡∏ô‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞ ü•∞'), 350);
    });
  </script>
</body>
</html>
